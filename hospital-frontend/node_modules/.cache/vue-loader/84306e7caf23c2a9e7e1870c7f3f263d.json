{"remainingRequest":"/Users/xuechao6/Desktop/Trad/医院管理系统2/hospital-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xuechao6/Desktop/Trad/医院管理系统2/hospital-frontend/src/views/DataExpore.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/xuechao6/Desktop/Trad/医院管理系统2/hospital-frontend/src/views/DataExpore.vue","mtime":1700395042000},{"path":"/Users/xuechao6/Desktop/Trad/医院管理系统2/hospital-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1713934405844},{"path":"/Users/xuechao6/Desktop/Trad/医院管理系统2/hospital-frontend/node_modules/babel-loader/lib/index.js","mtime":1713934405672},{"path":"/Users/xuechao6/Desktop/Trad/医院管理系统2/hospital-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1713934405844},{"path":"/Users/xuechao6/Desktop/Trad/医院管理系统2/hospital-frontend/node_modules/vue-loader/lib/index.js","mtime":1713934404154}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZGF0YUV4cG9yZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNldmVuRGF0ZTogW10sCiAgICAgIHNldmVuT3JkZXI6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v57uf6K6h5oKj6ICF5bm06b6E5YiG5biDCiAgICBwYXRpZW50QWdlKCl7CiAgICAgIHZhciBteUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXRpZW50QWdlIikpOwogICAgICByZXF1ZXN0LmdldCgicGF0aWVudC9wYXRpZW50QWdlIikKICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICB2YXIgb3B0aW9uID0gewogICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgdGV4dDogJ+aCo+iAheW5tOm+hOauteWIhuW4gycsCiAgICAgICAgbGVmdDogJ2NlbnRlcicKICAgIH0sCiAgICB0b29sdGlwOiB7CiAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nCiAgICB9LAogICAgbGVnZW5kOiB7CiAgICAgICAgdG9wOiAnNSUnLAogICAgICAgIGxlZnQ6ICdjZW50ZXInCiAgICB9LAogICAgc2VyaWVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICAgbmFtZTogJ+W5tOm+hOautScsCiAgICAgICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICAgICAgcmFkaXVzOiBbJzQwJScsICc3MCUnXSwKICAgICAgICAgICAgICBhdm9pZExhYmVsT3ZlcmxhcDogZmFsc2UsCiAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMTAsCiAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdjZW50ZXInCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBlbXBoYXNpczogewogICAgICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDAnLAogICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGxhYmVsTGluZTogewogICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZGF0YTogWwogICAgICAgICAgICAgICAgICB7dmFsdWU6IHJlcy5kYXRhLmRhdGFbMF0sIG5hbWU6ICcwLTnlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzFdLCBuYW1lOiAnMTAtMTnlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzJdLCBuYW1lOiAnMjAtMjnlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzNdLCBuYW1lOiAnMzAtMznlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzRdLCBuYW1lOiAnNDAtNDnlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzVdLCBuYW1lOiAnNTAtNTnlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzZdLCBuYW1lOiAnNjAtNjnlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzddLCBuYW1lOiAnNzAtNznlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzhdLCBuYW1lOiAnODAtODnlsoEnfSwKICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhWzldLCBuYW1lOiAnOTAtOTnlsoEnfSwKICAgICAgICAgICAgICBdCiAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KQogICAgfSwKCiAgICAvL+e7n+iuoeaMguWPt+enkeWupOS6uuaVsAogICAgb3JkZXJTZWN0aW9uKCl7CiAgICAgIGxldCBteUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcmRlclNlY3Rpb24iKSk7CiAgICAgIHJlcXVlc3QuZ2V0KCJvcmRlci9vcmRlclNlY3Rpb24iKQogICAgICAudGhlbihyZXMgPT4gewogICAgICAgIHZhciBvcHRpb24gPSB7CiAgICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgICAgICB0ZXh0OiAn5oyC5Y+356eR5a6k5Lq65pWw57uf6K6hJywKICAgICAgICAgICAgICAgICAgbGVmdDogJ2NlbnRlcicKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgeEF4aXM6IHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMuZGF0YS5kYXRhLm1hcCgoaXRlbSkgPT4gaXRlbS5kb2N0b3IuZFNlY3Rpb24pLAogICAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiB7Ly/op6PlhrPlkITkuKrkuI3mmL7npLrpl67popgKICAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsOjAsCiAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGU6MTAsCiAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgeUF4aXM6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAndmFsdWUnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlcy5kYXRhLmRhdGEubWFwKChpdGVtKSA9PiBpdGVtLmNvdW50U2VjdGlvbiksCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgxODAsIDE4MCwgMTgwLCAwLjIpJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICB9OwogICAgICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KQogICAgfSwKCiAgICAvL+aMguWPt+eUt+Wls+avlOS+iwogICAgb3JkZXJHZW5kZXIoKXsKICAgICAgdmFyIG15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9yZGVyR2VuZGVyIikpOwogICAgICByZXF1ZXN0LmdldCgib3JkZXIvb3JkZXJHZW5kZXIiLCkKICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+aCo+iAheaAp+WIq+avlOS+iycsCiAgICAgICAgICAgICAgICAgICAgbGVmdDogJ2NlbnRlcicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICAgICAgb3JpZW50OiAndmVydGljYWwnLAogICAgICAgICAgICAgICAgICAgIGxlZnQ6ICdsZWZ0JywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICfkurrmlbAnLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAnNTAlJywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhLm1hcCgoaXRlbSkgPT4gaXRlbS5jb3VudEdlbmRlcilbMF0sIG5hbWU6IHJlcy5kYXRhLmRhdGEubWFwKChpdGVtKSA9PiBpdGVtLnBhdGllbnQucEdlbmRlcilbMF19LAogICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiByZXMuZGF0YS5kYXRhLm1hcCgoaXRlbSkgPT4gaXRlbS5jb3VudEdlbmRlcilbMV0sIG5hbWU6IHJlcy5kYXRhLmRhdGEubWFwKChpdGVtKSA9PiBpdGVtLnBhdGllbnQucEdlbmRlcilbMV19LAoKICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0JsdXI6IDEwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldFg6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Q29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH07CiAgICAgICAgICBteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwoKICAgICAgfSkKICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPlui/h+WOu251beWkqeaXpeacnwogICAgcGFzdFNldmVuKG51bSkgewogICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIG51bSk7CiAgICAgIGxldCB0aW1lID0gZGF0ZS5nZXRNb250aCgpICsgMSArICItIiArIGRhdGUuZ2V0RGF0ZSgpOwogICAgICByZXR1cm4gdGltZTsKICAgIH0sCgogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMub3JkZXJHZW5kZXIoKTsKICAgIHRoaXMub3JkZXJTZWN0aW9uKCk7CiAgICB0aGlzLnBhdGllbnRBZ2UoKTsKICB9LAogIGNyZWF0ZWQoKSB7CgogIH0sCn07Cg=="},{"version":3,"sources":["DataExpore.vue"],"names":[],"mappings":";AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"DataExpore.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * 数据统计图\n *\n * @Author: ShanZhu\n * @Date: 2023-11-17\n-->\n<template>\n  <div class=\"Echarts\">\n    <div id=\"orderSection\" style=\"width: 1200px; height: 400px;\"></div>\n    <div id=\"orderGender\" style=\"width: 540px; height: 500px;float:left\"></div>\n    <div id=\"patientAge\" style=\"width: 600px; height: 500px;float:right\"></div>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request.js\";\nexport default {\n  name: \"dataExpore\",\n  data() {\n    return {\n      sevenDate: [],\n      sevenOrder: [],\n    };\n  },\n  methods: {\n    //统计患者年龄分布\n    patientAge(){\n      var myChart = this.$echarts.init(document.getElementById(\"patientAge\"));\n      request.get(\"patient/patientAge\")\n      .then(res => {\n        var option = {\n           title: {\n        text: '患者年龄段分布',\n        left: 'center'\n    },\n    tooltip: {\n        trigger: 'item'\n    },\n    legend: {\n        top: '5%',\n        left: 'center'\n    },\n    series: [\n          {\n              name: '年龄段',\n              type: 'pie',\n              radius: ['40%', '70%'],\n              avoidLabelOverlap: false,\n              itemStyle: {\n                  borderRadius: 10,\n                  borderColor: '#fff',\n                  borderWidth: 2\n              },\n              label: {\n                  show: false,\n                  position: 'center'\n              },\n              emphasis: {\n                  label: {\n                      show: true,\n                      fontSize: '40',\n                      fontWeight: 'bold'\n                  }\n              },\n              labelLine: {\n                  show: false\n              },\n              data: [\n                  {value: res.data.data[0], name: '0-9岁'},\n                  {value: res.data.data[1], name: '10-19岁'},\n                  {value: res.data.data[2], name: '20-29岁'},\n                  {value: res.data.data[3], name: '30-39岁'},\n                  {value: res.data.data[4], name: '40-49岁'},\n                  {value: res.data.data[5], name: '50-59岁'},\n                  {value: res.data.data[6], name: '60-69岁'},\n                  {value: res.data.data[7], name: '70-79岁'},\n                  {value: res.data.data[8], name: '80-89岁'},\n                  {value: res.data.data[9], name: '90-99岁'},\n              ]\n          }\n        ]\n    };\n       myChart.setOption(option);\n      }).catch(err => {\n        console.error(err);\n      })\n    },\n\n    //统计挂号科室人数\n    orderSection(){\n      let myChart = this.$echarts.init(document.getElementById(\"orderSection\"));\n      request.get(\"order/orderSection\")\n      .then(res => {\n        var option = {\n             title: {\n                  text: '挂号科室人数统计',\n                  left: 'center'\n               },\n                  xAxis: {\n                      type: 'category',\n                      data: res.data.data.map((item) => item.doctor.dSection),\n                      axisLabel: {//解决各个不显示问题\n                         interval:0,\n                         rotate:10,\n                         }\n\n                  },\n                yAxis: {\n                    type: 'value'\n                },\n                series: [{\n                    data: res.data.data.map((item) => item.countSection),\n                    type: 'bar',\n                    showBackground: true,\n                    backgroundStyle: {\n                        color: 'rgba(180, 180, 180, 0.2)'\n                    }\n                }]\n          };\n          myChart.setOption(option);\n      })\n      .catch(err => {\n        console.error(err);\n      })\n    },\n\n    //挂号男女比例\n    orderGender(){\n      var myChart = this.$echarts.init(document.getElementById(\"orderGender\"));\n      request.get(\"order/orderGender\",)\n      .then(res => {\n      var option = {\n                title: {\n                    text: '患者性别比例',\n                    left: 'center'\n                },\n                tooltip: {\n                    trigger: 'item'\n                },\n                legend: {\n                    orient: 'vertical',\n                    left: 'left',\n                },\n                series: [\n                    {\n                        name: '人数',\n                        type: 'pie',\n                        radius: '50%',\n                        data: [\n                            {value: res.data.data.map((item) => item.countGender)[0], name: res.data.data.map((item) => item.patient.pGender)[0]},\n                            {value: res.data.data.map((item) => item.countGender)[1], name: res.data.data.map((item) => item.patient.pGender)[1]},\n\n                        ],\n                        emphasis: {\n                            itemStyle: {\n                                shadowBlur: 10,\n                                shadowOffsetX: 0,\n                                shadowColor: 'rgba(0, 0, 0, 0.5)'\n                            }\n                        }\n                    }\n                ]\n            };\n          myChart.setOption(option);\n\n      })\n      .catch(err => {\n        console.error(err);\n      });\n    },\n    //获取过去num天日期\n    pastSeven(num) {\n      let date = new Date();\n      date.setDate(date.getDate() - num);\n      let time = date.getMonth() + 1 + \"-\" + date.getDate();\n      return time;\n    },\n\n  },\n  mounted() {\n    this.orderGender();\n    this.orderSection();\n    this.patientAge();\n  },\n  created() {\n\n  },\n};\n</script>\n\n<style>\n</style>\n"]}]}